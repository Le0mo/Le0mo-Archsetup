/* 导入颜色变量文件，定义整个栏目的配色方案 */
@import "colors.css";


/*
 * 全局样式设置 - 这里定义了整个栏目的基准样式
 * 核心设计：所有元素的字体大小都使用相对单位 em
 * 如果未来需要调整整体大小，只需要修改这里的 font-size 基准值即可
 */
* {
    border: none;                    /* 移除所有默认边框 */
    border-radius: 5px;              /* 设置统一的圆角大小，用于按钮等元素 */
    font-family: "JetBrainsMono NFP","LXGW WenKai Screen", "JetBrains Maple Mono";  /* 字体优先级：英文用JetBrains Mono Nerd Font，中文用霞鹜文楷，最后回退到Maple Mono */
    font-size: 15px;                  /* 基准字体大小 - 1em = 15px，所有使用em单位的字体都基于此缩放 */
    min-height: 0;                    /* 移除最小高度限制，让元素可以更紧凑 */
}

/* 
 * 整个 Waybar 窗口的样式
 * 这是最外层的容器
 */
window#waybar {
    border-radius: 0px;               /* 移除圆角，让栏目标填满屏幕边缘 */
    background: transparent;           /* 背景透明，这样可以看到桌面或窗口管理器的背景 */
    color: @on_surface;                /* 文字颜色使用主题定义的表面文字颜色 */
}


/*
 * 工具提示（鼠标悬停时显示的提示框）样式
 */
tooltip {
    background: @surface_container_high;  /* 使用较高的表面容器颜色作为背景 */
    border: 2px solid @outline;           /* 添加轮廓颜色的边框，增强可见性 */
    opacity: 1;                            /* 完全不透明 */
}

tooltip label {
    color: @on_surface;                    /* 提示框文字颜色 */
    font-size: 0.89em;                     /* 相对基准缩小，约 13.35px（原16px的设计） */
}

/*
 * 应用启动器模块 - 通常是主菜单或程序启动按钮
 */
#custom-applauncher {
    font-size: 1.39em;                                 /* 大字体，约20.85px（原25px的设计） */
    padding: 0px 11px;                                 /* 内边距对称 */
    margin: 5px 0px 5px 5px;                           /* 修改：上5px 右0px 下5px 左5px - 移除右边距 */
    background-color: @primary;                        /* 使用主色背景，突出显示 */
    color: @on_primary;                                /* 主色背景上的文字颜色 */
    border-radius: 5px 0px 0px 5px;                    /* 只保留左侧圆角 */
}

/*
 * 工作区模块 - 显示所有虚拟桌面/工作区
 */
#workspaces {
    background-color: @surface_container_high;  /* 背景使用较高表面容器颜色 */
    padding: 0px 5px;                            /* 内边距：上下0px，左右5px */
    margin: 5px 0px 5px 0px;                           /* 修改：上5px 右5px 下5px 左0px - 移除左边距 */
    border-radius: 0px 0px 0px 0px;                   /* 只保留右侧圆角，形成完整的按钮组 */
}

/* 工作区按钮样式 */
#workspaces button {
    padding: 0px 10px;                            /* 按钮内边距：左右10px，增加点击区域 */
    color: @tertiary_container;                    /* 文字颜色使用三级容器颜色 */
}

/* 工作区按钮悬停效果 */
#workspaces button:hover {
    background: @surface_bright;                   /* 悬停时使用亮表面背景色 */
}

/* 当前活动工作区的样式 */
#workspaces button.active {
    color: @tertiary;                              /* 活动工作区使用更醒目的三级颜色 */
}


/*
 * 工具模块组 - 一系列常用功能的快速访问按钮
 * 包括：截图、录屏、操作菜单、剪贴板、壁纸、颜色选择器
 * 工具模块的统一尺寸设置 
 */
/* 工具组外壳（group/tools 的 id 通常是 #tools） */
#tools {
  background-color: @surface_container_high;
  margin: 5px 5px 5px 0px;
  padding: 0px;                 /* 外壳自己不吃 padding，交给子项 */
  border-radius: 0px 5px 5px 0px;
}
#tools #custom-tools,
#tools #idle_inhibitor,          /* 闲置抑制器 - 点击后阻止系统进入休眠 */
#tools #custom-screenshot,        /* 截图工具 */
#tools #custom-wfrec,             /* 录屏工具 */
#tools #custom-wallpapers,        /* 壁纸切换 */
#tools #custom-clipboard,         /* 剪贴板历史 */
#tools #custom-actions,           /* 操作菜单 */
#tools #custom-colorpicker{
    background-color: @surface_container_high;      /* 统一背景色 */
    color: @tertiary;                                /* 文字颜色使用三级色 */
    padding: 0px 5px;                                /* 统一内边距：左右5px */
    margin: 5px 0px 5px 3px;                         /* 统一外边距：上下5px，左右0px */
    font-size: 1.11em;                               /* 字体略大，约16.65px（原20px的设计） */
}
#tools #custom-tools:hover,
#tools #idle_inhibitor:hover,
#tools #power-profiles-daemon:hover,
#tools #custom-screenshot:hover,
#tools #custom-wfrec:hover,
#tools #custom-wallpapers:hover,
#tools #custom-clipboard:hover,
#tools #custom-actions:hover,
#tools #custom-colorpicker:hover {
  background-color: @surface_bright; 
}

/* 闲置抑制器激活时的样式 */
#idle_inhibitor.activated{
    padding: 0px 6px 0px 11px;                            /* 微调内边距，保持视觉平衡 */
}
/*
 * 系统状态模块组
 * 包括：闲置抑制器（禁止自动息屏）、电池状态、电源配置文件
 */
#battery,                 /* 电池状态 - 显示电量百分比 */
#power-profiles-daemon {  /* 电源配置文件 - 显示当前电源模式（性能/平衡/省电） */
    background-color: @surface_container_high;            /* 统一背景色 */
    color: @on_tertiary;                                    /* 默认文字颜色使用二级色 */
}

/* 电池模块字体略大 */
#battery{
    font-size:1.1em;                                      /* 字体约16.5px，比基准大一点 */
}

/* 电源配置文件模块 - 中间元素 */
#power-profiles-daemon {
    padding: 0px 8px 0px 5px;                             /* 内边距：左右不对称 */
    margin: 5px 0px 5px 0px;                              /* 水平无外边距，与两侧模块连接 */
    color: @tertiary;                                     /* 默认使用三级色 */
}

/* 性能模式的特殊样式 - 更醒目 */
#power-profiles-daemon.performance {
    color: @error;                                        /* 性能模式下使用错误色（红色）表示高功耗 */
     padding: 0px 5px;                                /* 统一内边距：左右5px */
    margin: 5px 3px 5px 6px;                         /* 统一外边距：上下5px，左右0px */
    font-size: 1.11em;                            /* 调整内边距适应更大字体 */
}

/* 省电模式的特殊样式 */
#power-profiles-daemon.power-saver {
    color: #1aa052;                                       /* 使用绿色表示省电模式 */
}

/* 录屏中状态的特殊样式 */
#custom-wfrec.recording {
    color: @error;                                   /* 录屏中显示错误颜色（红色）警示用户 */
}

/* 操作菜单模块使用更大的字体，因为它可能包含图标 */
#custom-actions {
    font-size: 1.3em;                                 /* 字体较大，约19.5px */
}

/*
 * 窗口标题模块 - 显示当前活动窗口的标题
 */
#window {
    padding: 0px 10px;                                 /* 内边距：左右10px */
    background-color: @surface_container_high;         /* 背景色 */
    color: @on_surface;                                /* 文字颜色 */
    margin: 5px;                                       /* 外边距5px */
}

/* 窗口标题文字样式 */
#window label {
    font-size: 0.89em;                                 /* 字体略小，约13.35px（原16px的设计） */
}

/* 
 * 当没有窗口打开时（empty状态）的窗口模块样式
 * 通过透明背景来暗示没有窗口
 */
window#waybar.empty #window {
    background-color: transparent;                        /* 使用基础表面色，更淡的背景 */
}

/*
 * 媒体控制模块 - 显示当前正在播放的媒体
 * 以及频谱可视化模块（cava）
 */
#mpris,                    /* 媒体播放信息显示模块 */
#custom-cava {              /* 音频频谱可视化模块（自定义脚本） */
    background-color: @surface_container_high;     /* 统一背景色 */
    color: @primary;                                /* 文字颜色使用主色 */
}

/* 频谱可视化模块的特定样式 */
#custom-cava {
    padding: 0px 10px 0px 10px;                     /* 内边距：左右10px，上下0px */
    margin: 5px 0px 5px 5px;                         /* 外边距：上5px右0下5px左5px */
}

/* 媒体播放模块的特定样式 */
#mpris {
    padding: 0px 5px;                                /* 内边距：左右5px */
    margin: 5px 0px 5px 5px;                         /* 外边距：上5px右0下5px左5px */
}

/*
 * 分隔符模块
 * 用于在视觉上分隔不同的模块组
 */
#custom-separator.2 {                                  /* 第二组分隔符 */
    font-size: 1.56em;                                 /* 大字体，约23.4px（原28px的设计），通常是竖线字符 */
    padding: 0px 5px;                                  /* 内边距小，只保留分隔功能 */
    color: @on_surface;                                /* 分隔符颜色 */
}

/*
 *灵动岛
 */
#custom-island {
    padding: 0 20px;                            /* 内边距：上下0px，左右5px */
    border-radius: 15px;
    background: @on_primary;
    color: @primary;
    box-shadow: rgba(0, 0, 0, 0.116) 2px 2px 5px 2px;
    margin: 5px 5px;                           /* 修改：上5px 右5px 下5px 左0px - 移除左边距 */
}
#custom-island label {
    color: #e7e7ec;
    font-weight: bold;
}
#custom-island.play{
    background: @on_primary;
    background-size: 400% 400%;
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.377);
    font-weight: bold;
    color: @primary ;
}

/*
 * Niri 窗口管理器的任务栏样式
 * 这是 Wayland 合成器 niri 的任务栏模块
 */
.niri-taskbar {
    background: none;                                   /* 透明背景，因为每个按钮有自己的背景 */
    padding: 0px;                                       /* 无内边距 */
    margin: 4px 4px 4px 0px;                           /* 外边距：上4px右4px下4px左0px */
}

/* 任务栏按钮悬停效果 */
.niri-taskbar button:hover {
    background: @secondary_container;                   /* 使用二级容器颜色作为悬停背景 */
}

/* 焦点窗口的任务栏按钮 */
.niri-taskbar button.focused {
    background: @secondary_container;                   /* 使用与悬停相同的背景色，表示当前焦点 */
}

/* 
 * 紧急窗口的任务栏按钮
 * 使用闪烁动画吸引用户注意
 */
.niri-taskbar button.urgent {
    background-color: @tertiary;                        /* 初始背景为三级色 */
    animation-name: blink;                              /* 应用闪烁动画 */
    animation-duration: 0.5s;                           /* 动画周期0.5秒 */
    animation-timing-function: steps(12);               /* 分12步完成动画，实现闪烁效果 */
    animation-iteration-count: infinite;                /* 无限循环 */
    animation-direction: alternate;                     /* 交替方向，让颜色来回变化 */
}

/* 闪烁动画的关键帧定义 */
@keyframes blink {
    to {                                                /* 动画结束时 */
        background-color: @primary;                     /* 背景变为主色 */
        color: @error;                                  /* 文字变为错误色（红色） */
    }
}

/*
 * 系统更新通知模块
 * 通常显示可用的软件包更新数量
 */
#custom-updates {
    padding: 0px 10px;                                  /* 内边距：左右10px */
    margin: 5px;                                        /* 外边距5px */
    background-color: @surface_container_high;          /* 背景色 */
    color: @error;                                      /* 使用错误色（红色）表示需要关注 */
}

/*
 * 系统托盘模块
 * 显示后台程序的状态图标
 */
#tray {
    padding: 0px 10px;                                  /* 内边距：左右10px */
    background-color: @surface_container_high;          /* 背景色 */
    margin: 5px;                                        /* 外边距5px */
}

/*
 * 显示器亮度控制相关模块
 * 包含 DDC/CI 控制（通过I2C控制外部显示器）和背光控制
 */
#custom-ddcutil-day,     /* 日间模式（高亮度） */
#custom-ddcutil-night,   /* 夜间模式（低亮度） */
#custom-ddcutil-sleep,   /* 睡眠模式（最低亮度） */
#custom-separator.1,     /* 第一组分隔符 */
#backlight {             /* 背光控制（通常是笔记本内置屏幕） */
    background-color: @surface_container_high;          /* 统一背景色 */
    color: @tertiary;                                   /* 文字颜色使用二级色 */
}

/* 亮度控制按钮组的统一字体大小 */
#custom-ddcutil-day,
#custom-ddcutil-night,
#custom-ddcutil-sleep,
#custom-separator.1 {
    font-size: 1.11em;                                  /* 字体约16.65px（原20px的设计） */
    padding: 0px 5px;                                    /* 统一内边距 */
}

/* 日间模式按钮 - 组的第一个元素 */
#custom-ddcutil-day {
    padding: 0px 10px;                                   /* 左右对称内边距 */
    margin: 5px 0px 5px 5px;                             /* 外边距5px */
    border-radius: 5px 0px 0px 5px;                      /* 左圆角 */
}

/* 夜间模式按钮 - 组的最后一个元素，右侧圆角 */
#custom-ddcutil-night {
    border-radius: 0px 5px 5px 0px;                      /* 只保留右侧圆角 */
    margin: 8px 2px 8px 0px;                             /* 垂直方向边距8px，左右2px和0px */
}

/* 睡眠模式按钮和分隔符 - 中间元素，无圆角 */
#custom-ddcutil-sleep,
#custom-separator.1 {
    border-radius: 0px;                                   /* 无圆角，形成连接 */
    margin: 8px 0px;                                      /* 垂直边距8px，水平0px */
}

/* 背光显示模块 - 显示当前亮度百分比 */
#backlight {
    font-size: 1.22em;                                    /* 字体约18.3px（原22px的设计） */
    padding: 0px 5px 0px 0px;                             /* 右内边距5px */
    margin: 8px 0px;                                      /* 垂直边距8px */
    border-radius: 0px;                                    /* 无圆角，准备与滑块连接 */
}

/* 
 * 背光滑块模块
 * 这是一个可拖动的滑块，用于调节亮度
 */
#backlight-slider {
    background-color: @surface_container_high;            /* 背景色与按钮一致 */
    padding: 0px 7px 0px 10px;                            /* 内边距：左10px右7px，为滑块留出空间 */
    margin: 8px 0px 8px 10px;                             /* 外边距：左10px与其他模块分开 */
    border-radius: 5px 0px 0px 5px;                       /* 只保留左侧圆角，右侧与背光显示连接 */
}

/* 隐藏滑块的默认滑块按钮（thumb） */
#backlight-slider slider {
    min-height: 0px;                                      /* 最小高度为0 */
    min-width: 0px;                                       /* 最小宽度为0 */
    opacity: 0;                                           /* 完全透明 */
    background-image: none;                               /* 移除背景图片 */
    border: none;                                         /* 无边框 */
    box-shadow: none;                                     /* 无阴影 */
    background: none;                                     /* 无背景 */
}

/* 滑块的轨道样式 */
#backlight-slider trough {
    min-height: 10px;                                     /* 轨道高度10px */
    min-width: 80px;                                      /* 轨道宽度80px */
    border-radius: 5px;                                   /* 轨道圆角5px */
    opacity: 0;                                            /* 完全透明，我们只需要看到填充部分 */
    background-color: @surface;                            /* 轨道背景色为基础表面色 */
}

/* 滑块的填充部分（表示当前亮度值） */
#backlight-slider highlight {
    min-width: 10px;                                      /* 最小宽度10px */
    border-radius: 5px;                                   /* 圆角5px */
    background-color: @tertiary;                         /* 使用二级色表示填充 */
}

/*
 * 音频控制模块
 */
#pulseaudio {
    padding: 0px 5px 0px 5px;                            /* 左内边距10px，右5px */
    margin: 5px 0px 5px 0px;                              /* 左外边距5px */
    border-radius: 0px 0px 0px 0px;                       /* 无圆角 */
}

#pulseaudio-slider {
    padding: 0px 5px 0px 5px;                            /* 左内边距10px，右5px */
    margin: 5px 0px 5px 0px;                              /* 左外边距5px */
    border-radius: 0px 0px 0px 0px;                       /* 无圆角 */
}

#pulseaudio-slider,
#pulseaudio {
    background-color: @surface_container_high;
    color: @tertiary;
}

#pulseaudio-slider slider {
    min-height: 0px;
    min-width: 0px;
    opacity: 0;
    background-image: none;
    box-shadow: none;
    background: none;
}

#pulseaudio-slider trough {
    min-height: 0.56em; /* 10px */
    min-width: 4.44em; /* 80px */
    border-radius: 0.28em; /* 5px */
    background-color: @surface;
}

#pulseaudio-slider highlight {
    min-width: 0px;
    border-radius: 0.28em; /* 5px */
    background-color: @tertiary;
}


/*
 * 网络和蓝牙模块 - 通常组合在一起
 */
#network,                                                 /* 网络状态（WiFi/有线） */
#bluetooth {                                               /* 蓝牙状态 */
    background-color: @surface_container_high;            /* 统一背景色 */
    color: @tertiary;                                    /* 文字颜色使用二级色 */
    font-size: 1.22em;                                    /* 字体约18.3px（原22px的设计），适合显示图标 */
}

/* 蓝牙模块 - 组的第一个元素 */
#bluetooth {
    padding: 0px 5px 0px 5px;                            /* 左内边距10px，右5px */
    margin: 5px 0px 5px 0px;                              /* 左外边距5px */
    border-radius: 0px 0px 0px 0px;                       /* 无圆角 */
}

/* 蓝牙禁用时的样式 - 调整内边距使图标居中对齐 */
#bluetooth.disabled{
    padding: 0px 3px 0px 5px;                             /* 微调内边距，使禁用状态下的图标位置合适 */
}

/* 网络模块 - 组的最后一个元素 */
#network {
    padding: 0px 5px 0px 5px;                            /* 右内边距10px，左5px */
    margin: 5px 0px 5px 0px;                              /* 右外边距5px */
    border-radius: 0px 0px 0px 0px;                       /* 无圆角 */
}


/* 电池模块 - 组的最后一个元素 */
#battery {
    padding: 0px 10px 0px 5px;                            /* 右内边距10px，左5px */
    margin: 5px 5px 5px 0px;                              /* 右外边距5px */
    border-radius: 0px 5px 5px 0px;                       /* 只保留右侧圆角 */
    color: @tertiary;  
}

/* 
 * 电池电量严重不足时的紧急样式
 * 仅在非充电状态下且电量低于阈值时应用
 */
#battery.critical:not(.charging) {
    background-color: @error;                             /* 红色背景警示 */
    color: @on_error;                                     /* 红色背景上的文字颜色 */
    animation-name: blink;                                /* 应用闪烁动画 */
    animation-duration: 0.5s;                             /* 动画周期0.5秒 */
    animation-timing-function: steps(12);                 /* 分12步，产生闪烁效果 */
    animation-iteration-count: infinite;                  /* 无限循环 */
    animation-direction: alternate;                       /* 交替方向 */
    padding: 0px 10px 0px 5px;                            /* 保持原有内边距 */
    margin: 5px 5px 5px 0px;                              /* 保持原有外边距 */
    border-radius: 0px 5px 5px 0px;                       /* 保持原有圆角 */
}

/*
 * 时钟模块
 */
#clock {
    background-color: @surface_container_high;            /* 背景色 */
    color: @secondary;                                    /* 文字颜色使用二级色 */
    padding: 0px 10px;                                    /* 内边距：左右10px */
    margin: 5px;                                          /* 外边距5px */
}

/*
 * 会话管理模块组
 * 包括：完全注销（wlogout）、重启、锁屏、注销
 */
#custom-wlogout {                                         /* 完整的注销/退出菜单（通常显示多个选项） */
    padding: 0px 10px 0px 10px;                           /* 对称内边距 */
    font-size: 1.39em;                                    /* 大字体，约20.85px（原25px的设计） */
    border-radius: 50%;                                   /* 圆形按钮 */
    margin: 5px                                           /* 外边距5px */
}

/* 所有会话管理按钮的统一样式 */
#custom-wlogout,
#custom-reboot,           /* 重启按钮 */
#custom-lockscreen,       /* 锁屏按钮 */
#custom-logout {          /* 注销按钮（立即注销） */
    color: @tertiary;                                     /* 文字颜色使用三级色 */
    padding: 0px 10px;                                    /* 统一内边距：左右10px */
    background-color: @surface_container_high;            /* 统一背景色 */
}

/* 锁屏按钮 - 组的最后一个元素 */
#custom-lockscreen {
    margin: 8px 2px 8px 0px;                              /* 上下8px，右2px左0px */
    border-radius: 0px 5px 5px 0px;                       /* 只保留右侧圆角 */
    padding: 0px 10px 0px 5px;                            /* 左内边距5px，右10px */
}

/* 重启按钮 - 组的第一个元素 */
#custom-reboot {
    margin: 8px 0px 8px 10px;                             /* 上下8px，左10px右0px */
    border-radius: 5px 0px 0px 5px;                       /* 只保留左侧圆角 */
    padding: 0px 5px 0px 10px;                            /* 左内边距10px，右5px */
}

/* 注销按钮 - 中间元素 */
#custom-logout {
    margin: 8px 0px 8px 0px;                              /* 水平无外边距，与两侧按钮连接 */
    border-radius: 0px;                                   /* 无圆角，形成按钮组 */
}
